---
layout:
  title:
    visible: true
  description:
    visible: false
  tableOfContents:
    visible: true
  outline:
    visible: true
  pagination:
    visible: true
---

# uv

## 101

[`uv`](https://github.com/astral-sh/uv) is a fast, modern Python package manager optimized for speed and simplicityâ€”ideal for pentesting and red team workflows where rapid setup matters. It replaces traditional tools like `pip`, `virtualenv`, and `pip-tools` by combining their capabilities into one streamlined utility written in Rust.&#x20;

With `uv`, it's easy to create isolated environments, install packages from PyPI or Git repositories, and generate lockfiles for consistent, reproducible tool setups. This makes it well-suited for scenarios where fast deployment and clean dependency management are critical.

## Usage

{% tabs %}
{% tab title="Misc" %}
```bash
# Update uv
uv self update

# List available Python versions
$ uv python list

# Install a tool with a specific Python version
$ uv tool install --python 3.13 creds

# Uninstall the specified Python version
$ uv python uninstall 3.13
```
{% endtab %}

{% tab title="Packages" %}


```bash
# Install a package using the pypi name:
uv tool install DefaultCreds_cheat_sheet

# Run an installed package
uv run creds search tomcat

# Upgrade a package
uv tool upgrade netexec
```
{% endtab %}

{% tab title="Scripts" %}
```bash
# Clone the tool's repo
$ sudo git clone https://github.com/ShutdownRepo/targetedKerberoast

# List contents
$ ls targetedKerberoast/
kerberoastables.txt  LICENSE  README.md  requirements.txt  targetedKerberoast.py

# Add the script
$ uv add --script targetedKerberoast.py -r requirements.txt
Updated `targetedKerberoast.py`
```

The above step added the dependencies metadata within the main script:

```bash
$ cat targetedKerberoast.py
#!/usr/bin/env python3
# /// script
# requires-python = ">=3.13"
# dependencies = [
#     "impacket",
#     "ldap3",
#     "pyasn1",
#     "pycryptodome",
#     "rich",
# ]
# ///

# Run the script
$ uv run targetedKerberoast.py
```

We can edit the shebang to make it easier to run with `uv`:

```bash
# Modify the shebang
$ head -n1 targetedKerberoast.py
#!/usr/bin/env python3
$ head -n1 targetedKerberoast.py
#!/usr/bin/env -S uv run --script

# Copy to a PATH included directory
$ cp targetedKerberoast.py ~/.local/bin

# Run the script globally
$ targetedKerberoast.py
```
{% endtab %}

{% tab title="pip" %}
```bash
# Create & activate a virtual environment
uv venv ~/.venvs/ad-miner
source ~/.venvs/ad-miner/bin/activate

# Install the package
uv pip install 'git+https://github.com/Mazars-Tech/AD_Miner.git'

# Create a symlink
n -s ~/.venvs/ad-miner/bin/AD-miner  ~/.local/bin/AD-miner

# Execute the package
AD-miner
```
{% endtab %}
{% endtabs %}

## Resources

* A great tutorial from 0xdf: Python UV for Hackers ([video](https://www.youtube.com/watch?v=G36QXtBXKBQ))
