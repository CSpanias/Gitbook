---
layout:
  title:
    visible: true
  description:
    visible: false
  tableOfContents:
    visible: true
  outline:
    visible: true
  pagination:
    visible: true
---

# PostgreSQL (5432)

## Usage

PostgreSQL stores metadata in tables beggining with `pg_`.

{% tabs %}
{% tab title="Version" %}
```sql
SELECT version();
```
{% endtab %}

{% tab title="Current User" %}
```sql
SELECT current_user;
```
{% endtab %}

{% tab title="Databases" %}
```sql
SELECT datname FROM pg_database;
```
{% endtab %}

{% tab title="Tables" %}
{% code overflow="wrap" %}
```sql
// Query only user-created tables (excluding `pg_` tables)
SELECT table_name FROM <database>.information_schema.tables WHERE table_schema='public';
```
{% endcode %}
{% endtab %}

{% tab title="Columns" %}
{% code overflow="wrap" %}
```sql
SELECT column_name, data_type FROM <database>.information_schema.columns WHERE table_name='<table>'
```
{% endcode %}
{% endtab %}
{% endtabs %}

We can connect via CLI with `psql`.

{% tabs %}
{% tab title="Connect" %}
```bash
psql -h 127.0.0.1 -U postgres
```
{% endtab %}
{% endtabs %}

```bash
# Listing dbs
postgres=# \l
# Connecting to a db
postgres=# \c cozyhosting
# Listing tables
cozyhosting=# \dt
# Dumping data
cozyhosting=# select * from users;
```
