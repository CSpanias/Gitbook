---
layout:
  title:
    visible: true
  description:
    visible: false
  tableOfContents:
    visible: true
  outline:
    visible: true
  pagination:
    visible: true
---

# Hounds

{% hint style="success" %}
There is [official documentation](https://bloodhound.specterops.io/home) available.
{% endhint %}

## SharpHound

[SharpHound](https://github.com/SpecterOps/SharpHound) is a data collection tool that maps Active Directory environments by gathering information on users, groups, sessions, and permissions, typically used as part of the BloodHound toolset. It does that via Windows API calls and LDAP queries. Its PowerShell version import [`Sharphound.ps1`](https://github.com/SpecterOps/BloodHound-Legacy/tree/master/Collectors) directly into memory. In addition, there is a [Python-based version](https://github.com/dirkjanm/BloodHound.py) which is also used in `nxc`'s [`--bloodhound`](https://www.netexec.wiki/ldap-protocol/bloodhound-ingestor) ingestor.

{% tabs %}
{% tab title="Sharphound.ps1" %}
{% code overflow="wrap" %}
```powershell
# Execution policy bypass
powershell -ep bypass

# Import the module
Import-Module .\Sharphound.ps1

# Collect all available domain information
Invoke-BloodHound -CollectionMethod All -OutputDirectory C:\Users\stephanie\Desktop\ -OutputPrefix "corp audit"
```
{% endcode %}
{% endtab %}

{% tab title="Sharphound.exe" %}
```powershell
# Collect all available domain information
.\SharpHound.exe -c all
```
{% endtab %}

{% tab title="bloodhound-python" %}
{% code overflow="wrap" %}
```bash
# Plaintext creds
bloodhound-python -u <user> -p <password> -dc <FQDN> -c all -d <domain> -ns <dc-ip>

# PtH
bloodhound-python -u <user> --hashes :<NTML> -dc <FQDN> -c all -d <domain> -ns <dc-ip>
```
{% endcode %}
{% endtab %}

{% tab title="nxc" %}
{% code overflow="wrap" %}
```bash
nxc ldap <dc-ip/FQDN> -u <user> -p <password> --bloodhound -c All --dns-server <dc-ip>
```
{% endcode %}
{% endtab %}
{% endtabs %}

This collects and compresses domain data (in JSON format) into a `.zip` file. SharpHound may also generate a `.bin` cache file to speed up future runs—this file isn't required for analysis and can be ignored or deleted.

{% hint style="success" %}
SharpHound also supports **looping** for continuous data collection if needed.
{% endhint %}

## BloodHound

[BloodHound](https://github.com/SpecterOps/BloodHound) is a graphical tool that visualizes Active Directory relationships and permissions to identify attack paths and privilege escalation opportunities in enterprise environments. Once the data is collected via SharpHound, we can upload the `.zip` file to BloodHound.&#x20;

BloodHound used `neo4j`, a **graph database** that stores data as nodes and relationships—perfect for mapping complex AD environments. The default Neo4j credentials are `neo4j:neo4j`.

{% hint style="success" %}
Custom cypher queries: [BloodHound Queries For All](https://queries.specterops.io/?_gl=1*7tyx8q*_up*MQ..*_ga*NzY0MDQxMzcyLjE3NTAyMjk4OTI.*_ga_53SGLN9EBJ*czE3NTAyMjk4OTAkbzEkZzAkdDE3NTAyMjk4OTAkajYwJGwwJGgw).
{% endhint %}

```bash
# start the Neo4j service
$ sudo neo4j start
# Launch BloodHound
$ bloodhound
```

BloodHound can also be used from within a docker container:&#x20;

```bash
sudo curl -L https://ghst.ly/getbhce | docker compose -f - up
```

## Resources

* A nice demo of how to use Bloodhound ([video](https://www.youtube.com/watch?v=aJqjH3MsbLM))
