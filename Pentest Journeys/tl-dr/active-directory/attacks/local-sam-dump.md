---
layout:
  title:
    visible: true
  description:
    visible: false
  tableOfContents:
    visible: true
  outline:
    visible: true
  pagination:
    visible: true
---

# Local SAM Dump

If we have access to a `windows.old` directory or an old Windows backup, we can extract the `SYSTEM` and `SAM` registry hives to perform offline credential dumping:

* The `SAM` hive contains encrypted NTLM password hashes for local user accounts
* The `SYSTEM` hive holds the boot key required to decrypt them.&#x20;

```bash
impacket-secretsdump -system SYSTEM -sam SAM LOCAL
```

> _This technique is conceptually the same as using_ [_`mimikatz lsadump::sam`_](../tools/mimikatz.md#cached-creds)_, which performs the same operation but directly on a live system._
