---
layout:
  title:
    visible: true
  description:
    visible: false
  tableOfContents:
    visible: true
  outline:
    visible: true
  pagination:
    visible: true
---

# awk

## Basic Filtering

By default, it treats spaces/tabs as delimiters. This can be changed using `-F'<del>'`.&#x20;

```bash
# extract the first field
awk '{print $1}' <file>
# extract multiple fields
awk '{print $1,$4}' <file>
```

## Line Filtering

`$NF` (number of fields) represents the last field, while `$NR` (number of records) represents the total number of records.

```bash
# start from the 3rd line and print the last field.
awk 'NR > 3 {print $NF}' <file>
```

## Printf

Whatever is within `{}` is the `awk` script that will be executed for each input line:

1. [`printf`](printf.md) is a built-in `awk` function, which formats and prints data.
2. `"%s "` defines the string format: the output should be a string (`%s`) followed by a space.
3. `$0` represents the entire current line of input in `awk`.

```bash
# for each input line, print the entire line and add a space after it
awk '{printf "%s ", $0}'
```

We can add a newline character at the end using an `END` block:

1. `END {...}` actions within an `END` block are executed after all input lines have been processed.

```bash
awk '{printf "%s ", $0} END {print ""}'
```
