---
cover: ../../../.gitbook/assets/nxc_logo.avif
coverY: 0
layout:
  cover:
    visible: true
    size: hero
  title:
    visible: true
  description:
    visible: false
  tableOfContents:
    visible: true
  outline:
    visible: true
  pagination:
    visible: false
---

# NetExec (/CME)

[NetExec](https://www.netexec.wiki/#netexec) (nxc) is a **network service exploitation tool** that helps automate assessing the security of large networks. An amazing tool that makes enumerating and exploiting **Active Directory (AD) environments** exponentially more efficient! You can view its usage in almost any of the [AD-related boxes](../../../boxes/boxes/#active-directory).

## Commands

### SMB

#### Enumeration

{% tabs %}
{% tab title="Shares" %}
<pre class="language-bash" data-overflow="wrap"><code class="lang-bash">nxc smb &#x3C;TARGET-IP> --shares
<strong># NULL session
</strong>nxc smb &#x3C;TARGET-IP> -p '' -u '' --shares
# guest session
nxc smb &#x3C;TARGET-IP> -p 'guest' -u '' --shares
# anonymous session
nxc smb &#x3C;TARGET-IP> -p 'anonymous' -u '' --shares
</code></pre>
{% endtab %}

{% tab title="Users" %}
{% code overflow="wrap" %}
```bash
# domain users
nxc smb <TARGET-IP> -u '<USER>' -p '<PASS>' --users
# local users
nxc smb <TARGET-IP> -u '<USER>' -p '<PASS>' --users --local-auth
# domain computer users
nxc smb <TARGET-IP> -u '<USER>' -p '<PASS>' --computers
# local computer users
nxc smb <TARGET-IP> -u '<USER>' -p '<PASS>' --computers --local-auth
```
{% endcode %}
{% endtab %}

{% tab title="Groups" %}
{% code overflow="wrap" %}
```bash
# domain groups
nxc smb <TARGET-IP> -u '<USER>' -p '<PASS>' --groups --local-groups 
# local groups
nxc smb <TARGET-IP> -u '<USER>' -p '<PASS>' --local-groups 
```
{% endcode %}
{% endtab %}

{% tab title="Sessions" %}
```bash
# active sessions
nxc smb <TARGET-IP> -u '<USER>' -p '<PASS>' --sessions
# logged on users
nxc smb <TARGET-IP> -u '<USER>' -p '<PASS>' --loggedon-users
```
{% endtab %}
{% endtabs %}

{% tabs %}
{% tab title="Password Policy" %}
```bash
nxc smb <TARGET-IP> -u '<USER>' -p '<PASS>' --pass-pol
```
{% endtab %}
{% endtabs %}

#### Spidering and file upload/download

{% tabs %}
{% tab title="Download Share" %}
{% code overflow="wrap" %}
```bash
nxc smb 10.10.10.10 -u 'guest' -p '' -M spider_plus -o DOWNLOAD_FLAG=True MAX_FILE_SIZE=420000 OUTPUT_FOLDER=SMB/
```
{% endcode %}
{% endtab %}
{% endtabs %}

#### Modules

The `whoami` module returns more information that just the `whoami` command.

{% tabs %}
{% tab title="whoami" %}
{% code overflow="wrap" %}
```bash
nxc ldap <DC-IP> -u <USER> -p <PASS> -M whoami -o USER=<USER>
```
{% endcode %}
{% endtab %}
{% endtabs %}

For **stealing hashes via writeable shares** via SMB check [here](../../../services/services/smb-139-445.md#hashes).

### SSH

{% tabs %}
{% tab title="Key Auth" %}
```bash
nxc ssh <IP> -u root -p '' --key-file root_id_rsa
```
{% endtab %}
{% endtabs %}

## Resources

{% tabs %}
{% tab title="Repo" %}
{% embed url="https://github.com/Pennyw0rth/NetExec" %}
{% endtab %}

{% tab title="Wiki" %}
{% embed url="https://www.netexec.wiki/" %}
{% endtab %}

{% tab title="Modules" %}
{% embed url="https://www.infosecmatter.com/crackmapexec-module-library/" %}
{% endtab %}

{% tab title="Demonstration" %}
{% embed url="https://www.youtube.com/watch?v=3SQMZzb4CnM" %}
{% endtab %}
{% endtabs %}

{% tabs %}
{% tab title="HTB CME" %}
{% embed url="https://academy.hackthebox.com/course/preview/using-crackmapexec" %}
{% endtab %}

{% tab title="LAB" %}
{% embed url="https://www.nameyourpricetraining.com/courses/b6ce7e4c-5748-4272-b776-c400481791f6" %}
{% endtab %}
{% endtabs %}
