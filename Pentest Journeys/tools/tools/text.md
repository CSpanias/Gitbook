---
layout:
  title:
    visible: true
  description:
    visible: false
  tableOfContents:
    visible: true
  outline:
    visible: true
  pagination:
    visible: true
---

# Text

## awk

### Basic Filtering

By default, it treats spaces/tabs as delimiters. This can be changed using `-F'<del>'`.&#x20;

```bash
# extract the first field
awk '{print $1}' <file>
# extract multiple fields
awk '{print $1,$4}' <file>
```

### Line Filtering

`$NF` (number of fields) represents the last field, while `$NR` (number of records) represents the total number of records.

```bash
# start from the 3rd line and print the last field.
awk 'NR > 3 {print $NF}' <file>
```

## grep

<table><thead><tr><th width="108" align="right">Option</th><th>Function</th></tr></thead><tbody><tr><td align="right"><code>-i</code></td><td>case-insensitve search (case-sensitive by default)</td></tr><tr><td align="right"><code>-v</code></td><td>exclude a certain pattern</td></tr><tr><td align="right"><code>-o</code></td><td>print only the matched pattern (line by default)</td></tr></tbody></table>

### Multiple Patterns

```bash
grep "<pattern1>\|<pattern2>" <file>
# or
grep -e "<pattern1>" -e "<pattern2>" <file>
```

### PCRE

Extract whatever comes after `Host:` .

* `o` prints only the matched parts of the line and not the entire line.
* `P` activates Perl-compatible regular expressions (PCRE), in this case,`\K`:. This is a special feature in Perl-compatible regular expressions that **resets the starting point of the match**, that is, only the characters after `\K` will be included in the output.

```bash
grep -oP 'Host:\s*\K[^\s;]*' "${NMAP_FILE}"
```

## sed

`sed` stands for stream editor. The operations do not modify the original file, they just printed as stdout.

<table><thead><tr><th width="141" align="right">Option</th><th>Description</th></tr></thead><tbody><tr><td align="right"><code>s</code></td><td>substitution (replace)</td></tr><tr><td align="right"><code>g</code></td><td>global (across the whole file)</td></tr><tr><td align="right"><code>d</code></td><td>delete line</td></tr><tr><td align="right"><code>p</code></td><td>print line</td></tr><tr><td align="right"><code>-i</code></td><td>inplace changes</td></tr></tbody></table>

### Deletion

```bash
# delete the first line
sed '1d' <file>

# delete the last line
sed '$d' <file>

# delete multiple lines
sed '1,7d' <file>
```

### Substitution

```bash
# substitution
sed 's/<to-be-replaced>/<to-replace-with>/g' <file>
 
# remove white space with substitution
sed 's/ //g' <file>

# remove everything after
sed 's/<pattern>.*//g'
```

### Filtering

```bash
# print specific line ranges
sed -n '1,3p' <file>
```

## tr

### Substitution

```bash
cat <file> | tr '\n' ','
```

### Deletion

```bash
cat <file> | tr -d '[]'
```

## printf

### Basic Usage

```bash
# assign output to a variable
printf -v var "%s\n" hello
echo $var
hello
```

### Format Specifiers

<table><thead><tr><th width="168">Format Specifier</th><th>Description</th></tr></thead><tbody><tr><td><code>%c</code></td><td>Treat the arguments as a single character.</td></tr><tr><td><code>%d</code></td><td>Treat the input as a decimal (integer) number (base 10).</td></tr><tr><td><code>%e</code></td><td>Treats the input as an exponential floating-point number.</td></tr><tr><td><code>%f</code></td><td>Treat the input as a floating-point number.</td></tr><tr><td><code>%i</code></td><td>Treat the input as an integer number (base 10).</td></tr><tr><td><code>%o</code></td><td>Treats the input as an octal number (base 8).</td></tr><tr><td><code>%s</code></td><td>Treat the input as a string of characters.</td></tr><tr><td><code>%u</code></td><td>Treat the input as an unsigned decimal (integer) number.</td></tr><tr><td><code>%x</code></td><td>Treats the input as a hexadecimal number (base 16).</td></tr><tr><td><code>%%</code></td><td>Print a percent sign.</td></tr><tr><td><code>%Wd</code></td><td>Print the <strong><code>W</code></strong> integer <strong><code>X</code></strong> digits wide.</td></tr><tr><td><code>%(format)T</code></td><td>Outputs a date-time string resulting from using format as a format string for <strong><code>strftime</code></strong>. The corresponding argument can be the number of seconds since Epoch (January 1, 1970, 00:00), <strong><code>-1</code></strong> (the current time), or <strong><code>-2</code></strong> (shell startup time). Not specifying an argument uses the current time as the default value.</td></tr><tr><td><code>\%</code></td><td>Print a percent sign.</td></tr><tr><td><code>\n</code></td><td>Prints a <strong><code>newline</code></strong> character.</td></tr><tr><td><code>\t</code></td><td>Print a <strong><code>tab</code></strong> character.</td></tr></tbody></table>

```bash
# syntax
printf "<specifier(s)>" "string"
 
# new line
printf "%s\n" "str1" "str2" "str3"
str1
str2
str3
```

When multiple specifiers are used, they are replaced by a corresponding argument.

```bash
printf "%s\n%s\t%s\n" "str1" "str2" "str3" "str4"
str1
str2    str3
str4
```

