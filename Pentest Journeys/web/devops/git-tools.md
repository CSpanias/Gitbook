# Git Tools

## Git Commands

{% tabs %}
{% tab title="Commits" %}
```bash
# Move within the .git directory
cd .git
# List commits
git log
# Write commits to a file
git log | grep commit | cut -d " " -f2 | xargs git show > commits
```
{% endtab %}

{% tab title="Show Commit" %}
```bash
# Show the specified commit's content
git show <commit-id>
```
{% endtab %}

{% tab title="Extract Info" %}
```bash
# extract author name and email
git log --pretty-format:"%an %ae" | sort -u
git log | grep Author | grep -oP '(?<=Author: ).*' | sort -u | tr -d '<>'
```
{% endtab %}
{% endtabs %}

## Tools

{% tabs %}
{% tab title="git-dumper" %}
[Git-Dumber](https://github.com/arthaud/git-dumper) is a tool designed to dump Git repositories exposed on websites.

```bash
git-dumper <URL>/.git/ <output-dir>
```

For an example see [here](https://cspanias.github.io/posts/HTB-Pilgrimage/#initial-foothold).
{% endtab %}

{% tab title="gitjacker" %}
[Gitjacker](https://github.com/liamg/gitjacker) is a tool that downloads and extracts Git repositories from websites where the `.git` directory is unintentionally exposed, even when directory listings are disabled.

```bash
sudo gitjacker <URL> -o <output-dir>
```
{% endtab %}

{% tab title="GitTools" %}
[GitTools](https://github.com/internetwache/GitTools) includes three lightweight Python and Bash scripts for Git repository analysis:

* `gitfinder` detects websites with exposed `.git` directories by checking for a valid `.git/HEAD`.&#x20;
* `gitdumper` attempts to recover as much data as possible from those repositories, even without directory listing.
* `extractor` tries to reconstruct incomplete Git commits and their contents by iterating through commit objects.

```bash
# Identify websites with publicly accessible .git repos
$ ./gitfinder.py -i <input-file> -o <output-file>

# Download the files found in the .git repo
$ ./gitdumber.sh <URL>/.git/ <output-dir>

# Extract commits from a broken repo (can be used after gitdumber.sh)
$ ./extractor.sh <.git-directory> <output-dir>
```

For an example see [here](https://cspanias.github.io/posts/THM-Git-Happens/#33-git-repositories-and-gittools).
{% endtab %}
{% endtabs %}
